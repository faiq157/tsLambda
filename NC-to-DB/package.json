{
  "name": "nc-to-db",
  "version": "1.0.0",
  "description": "Lambda to process cloud updates from nc.",
  "private": true,
  "repository": {
    "type": "git",
    "url": "https://bitbucket.org/terratrak/ts-lambda.git"
  },
  "main": "dist/index.js",
  "scripts": {
    "build": "npm run build:init && npm run build:js && npm run build:install",
    "build:init": "cd dist && DEL /F/Q/S * && cd ..",
    "build:js": "babel index.js mqtt.js utils/*.js services/*.js utils/**/*.js v0.8.1/**/*.js v0.8.1/*.js v0.7.8/**/*.js v0.7.8/*.js v0.7.7/**/*.js v0.7.7/*.js v0.7.6/**/*.js v0.7.6/*.js v0.7.4.1/**/*.js v0.7.4.1/*.js v0.7.5/**/*.js v0.7.5/*.js v0.7.4/**/*.js v0.7.4/*.js v0.7.3/**/*.js v0.7.3/*.js v0.6.8/**/*.js v0.6.8/*.js -d --out-dir dist && cp terrasmart_cloud_pb*.js db.js util.js dist",
    "build:install": "cp package*.json private.key my_aws_iot_accu.pem VeriSign-Class-3-Public-Primary-Certification-Authority-G5.pem dist\\ && cd dist && npm ci --production",
    "package": "npm run build",
    "package:pack": "zip -r artifact.zip dist/*",
    "mock": "ENV=local node -r babel-register -r babel-polyfill mock/run.js",
    "deploy": "npm run package && aws lambda update-function-code --function-name <LAMBDA-FUNCTION-NAME> --zip-file fileb://artifact.zip --region us-east-1",
    "run": "npm run build:js && node %NODE_DEBUG_OPTION% runner.js",
    "build-deb": "npm run build:js-deb",
    "build-deb-fresh": "npm run build:init-deb && npm run build:js-deb && npm run build:install-deb",
    "build:init-deb": "rm -rf dist && mkdir dist",
    "build:js-deb": "babel index.js mqtt.js utils/*.js services/*.js v0.8.1/**/*.js v0.8.1/*.js v0.7.8/**/*.js v0.7.8/*.js v0.7.7/**/*.js v0.7.7/*.js v0.7.6/**/*.js v0.7.6/*.js v0.7.4.1/**/*.js v0.7.4.1/*.js utils/**/*.js v0.7.5/**/*.js v0.7.5/*.js v0.7.4/**/*.js v0.7.4/*.js  v0.7.3/**/*.js v0.7.3/*.js v0.6.8/**/*.js v0.6.8/*.js -d --out-dir dist && cp terrasmart_cloud_pb*.js db.js util.js dist",
    "build:install-deb": "cp package*.json private.key my_aws_iot_accu.pem VeriSign-Class-3-Public-Primary-Certification-Authority-G5.pem dist && cd dist && npm ci --production",
    "run-deb": "npm run build-deb && node -r dotenv/config --inspect runner.js",
    "run-deb-fresh": "npm run build-deb-fresh && node -r dotenv/config --inspect runner.js",
    "build:dist": "npm run build-deb-fresh",
    "test": "mocha 'test/*.js' -r dotenv/config --reporter mochawesome --reporter-options quiet=true,json=false,reportDir=.reports,reportFilename=test-result,reportTitle=\"Test-Results\",inlineAssets=true --timeout 60000 --exit",
    "beautify": "js-beautify",
    "lint": "node node_modules/eslint/bin/eslint.js ./"
  },
  "dependencies": {
    "@aws-sdk/client-s3": "^3.461.0",
    "@aws-sdk/client-ses": "^3.461.0",
    "@aws-sdk/client-sns": "^3.461.0",
    "@aws-sdk/client-sqs": "^3.461.0",
    "@aws-sdk/lib-storage": "^3.461.0",
    "axios": "^0.21.4",
    "babel-runtime": "^6.26.0",
    "bluebird": "^3.7.2",
    "decache": "^4.5.1",
    "fast-safe-stringify": "^2.0.7",
    "flat": "^5.0.2",
    "fs": "0.0.1-security",
    "google-protobuf": "^3.4.0",
    "moment": "^2.24.0",
    "moment-timezone": "^0.5.34",
    "node-cache": "^5.1.2",
    "node-fetch": "^2.6.7",
    "pg": "^8.7.1",
    "protobufjs": "^6.11.2",
    "redis": "^4.6.7",
    "redis-lock": "^1.0.0",
    "request": "^2.88.2",
    "request-promise": "^4.2.6",
    "tz-lookup": "^6.1.25",
    "uuid": "^8.0.0",
    "winston": "3.4.0"
  },
  "devDependencies": {
    "async-lock": "^1.3.1",
    "babel-cli": "^6.26.0",
    "babel-core": "^6.26.0",
    "babel-plugin-transform-async-to-generator": "^6.24.1",
    "babel-plugin-transform-class-properties": "^6.24.1",
    "babel-plugin-transform-runtime": "^6.23.0",
    "babel-polyfill": "^6.26.0",
    "babel-preset-env": "^1.7.0",
    "babel-preset-stage-0": "^6.24.1",
    "babel-register": "^6.26.0",
    "chai": "^4.3.4",
    "dotenv": "^14.2.0",
    "eslint": "^8.7.0",
    "mocha": "^9.1.4",
    "mochawesome": "^7.0.1",
    "nock": "^13.2.2",
    "sinon": "^17.0.1"
  }
}
